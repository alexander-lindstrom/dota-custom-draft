<!DOCTYPE html>
<html>
  <head>
    <title>Custom CD draft</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" 
	integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
	
  </head>
  
  <body>
	<div class="row" id="buttons">
		<div class="col text-center">
			<button type="button" id="start" class="btn btn-primary btn-lg">Start</button>
			<button type="button" id="stop" class="btn btn-secondary btn-lg">Stop</button>
		</div>
	</div>
    <div id="str">
	  <h2>Strength heroes</h2>
	</div>
	<div id="agi">
	  <h2>Agility heroes</h2>
	</div>
	<div id="int">
	  <h2>Intelligence heroes</h2>
	</div>
    <script src="/socket.io/socket.io.js"></script>
	<script>
		
		var socket = io();
		
		//Send start event
		var startButton = document.getElementById('start');
		startButton.addEventListener('click', function(e){

			socket.emit('start');
		});
		
		//Handle start event
		socket.on('start', function(heroes){
			setImages(heroes[0], heroes[1], heroes[2]);
		});
		
		//Send pick event
		
		//Receive update event
		
		
		//Helper funcs
		function setImages(strHeroes, agiHeroes, intHeroes){
		
			strHeroes.forEach(function(e){
				var elem = document.createElement("img");
				
				elem.src = '/public/assets/images/' + e + '.webp';
				document.getElementById("str").appendChild(elem);
			});
			agiHeroes.forEach(function(e){
				var elem = document.createElement("img");
				elem.src = '/public/assets/images/' + e + '.webp';
				document.getElementById("agi").appendChild(elem);
			});
			intHeroes.forEach(function(e){
				var elem = document.createElement("img");
				elem.src = '/public/assets/images/' + e + '.webp';
				document.getElementById("int").appendChild(elem);
			});
		}

	
	</script>
  </body>
</html>
